---
import Image from '../FeaturedCollections/Image.astro';
---
<section class="showcase-section relative bg-primary py-24 md:py-32 overflow-hidden">
  <!-- Background effects -->
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(224,163,79,0.03),transparent_70%)]"></div>
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/20 to-transparent"></div>

  <div class="max-w-[2000px] mx-auto px-4 md:px-8">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8">
      <div class="showcase-item group relative rounded-sm overflow-hidden">
        <!-- Image container -->
        <div class="relative aspect-[16/9] md:aspect-[4/3] overflow-hidden">
          <Image
              src="/images/workspace-setup.jpg"
              alt="Modern workspace setup with elegant furniture"
              className="transform group-hover:scale-110 transition-transform duration-700 ease-out"
          />
          <!-- Overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </div>

        <!-- Content -->
        <div class="absolute inset-x-0 bottom-0 p-6 md:p-8 transform translate-y-6 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 ease-out">
          <h3 class="font-display text-xl md:text-2xl text-white mb-2">Workspace Elegance</h3>
          <p class="text-white/80 text-sm md:text-base max-w-md">
            Discover our curated collection of office furniture that combines style with functionality
          </p>
          <a
              href="/catalog/workspace"
              class="inline-block mt-4 text-accent hover:text-accent/80 transition-colors duration-300"
          >
            Explore Collection →
          </a>
        </div>

        <!-- Decorative elements -->
        <div class="absolute top-4 right-4 w-20 h-20 border border-accent/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100"></div>
        <div class="absolute bottom-4 left-4 w-20 h-20 border border-accent/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100"></div>
      </div>

      <div class="showcase-item group relative rounded-sm overflow-hidden">
        <!-- Image container -->
        <div class="relative aspect-[16/9] md:aspect-[4/3] overflow-hidden">
          <Image
              src="/images/minimal-living-room.jpg"
              alt="Minimal living room with modern sofa"
              className="transform group-hover:scale-110 transition-transform duration-700 ease-out"
          />
          <!-- Overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
        </div>

        <!-- Content -->
        <div class="absolute inset-x-0 bottom-0 p-6 md:p-8 transform translate-y-6 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 ease-out">
          <h3 class="font-display text-xl md:text-2xl text-white mb-2">Living Room Luxury</h3>
          <p class="text-white/80 text-sm md:text-base max-w-md">
            Transform your living space with our signature collection of modern furniture
          </p>
          <a
              href="/catalog/living-room"
              class="inline-block mt-4 text-accent hover:text-accent/80 transition-colors duration-300"
          >
            Explore Collection →
          </a>
        </div>

        <!-- Decorative elements -->
        <div class="absolute top-4 right-4 w-20 h-20 border border-accent/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100"></div>
        <div class="absolute bottom-4 left-4 w-20 h-20 border border-accent/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100"></div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  // Create a smoother animation timeline
  const timeline = gsap.timeline({
    scrollTrigger: {
      trigger: '.showcase-section',
      start: 'top 80%',
      end: 'top 30%',
      toggleActions: 'play none none reverse'
    }
  });

  // Add animations to timeline
  timeline
      .from('.showcase-item', {
        y: 50,
        opacity: 0,
        duration: 1,
        stagger: 0.2,
        ease: 'power3.out'
      })
      .from('.showcase-item .border', {
        scale: 0,
        opacity: 0,
        duration: 0.6,
        stagger: 0.1,
        ease: 'power2.out'
      }, '-=0.5');

  // Add hover effect to showcase items
  document.querySelectorAll('.showcase-item').forEach(item => {
    item.addEventListener('mouseenter', () => {
      gsap.to(item.querySelector('img'), {
        scale: 1.1,
        duration: 0.8,
        ease: 'power2.out'
      });
    });

    item.addEventListener('mouseleave', () => {
      gsap.to(item.querySelector('img'), {
        scale: 1,
        duration: 0.8,
        ease: 'power2.out'
      });
    });
  });
</script>

<style>
  .showcase-item {
    transform: translateZ(0);
    will-change: transform;
  }

  .showcase-item::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(to right, rgba(224,163,79,0.1), transparent);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .showcase-item:hover::before {
    opacity: 0.5;
  }

  @media (prefers-reduced-motion: reduce) {
    .showcase-item img {
      transition: none !important;
    }
  }
</style>